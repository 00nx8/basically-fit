import{Q as f}from"./QInput-D86SqAom.js";import{G as E,r as k,ab as q,V as v,L as o,S as _,K as a,H as V,a0 as D,I as s,U as i,W as b,X as x,J as n,Y as w,w as R,T as u,ac as S,R as h,ad as F}from"./index-D7LHrqkT.js";import{Q as C,a as L}from"./QItem-Y8GWypqu.js";import{Q as y}from"./QList-EIZmH8nx.js";import{Q as T}from"./use-id-LPlOJcqh.js";import{a as W,W as Q,E as A}from"./models-pZXpzrEA.js";import{_ as G}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./use-dark-hVWXkztj.js";import"./scroll-BuuKNtMi.js";const H={class:"q-gutted-md q-card--bordered q-layout-padding"},J={class:"row"},K={class:"col"},O={class:"row no-wrap q-gutter-md items-center",style:{"min-width":"0"}},P={class:"col text-no-wrap",style:{"min-width":"0"}},X={class:"col"},Y=E({__name:"WorkoutForm",setup($){const g=q(),c=S(),m=k("Edit workout plan"),l=k(W.get(Number.parseInt(g.params.id)));l.value?l.value=W.create(l.value,!1):(l.value=W.create(void 0,!1),m.value="create workout plan");const d=k(l.value.includedWorkouts.map(r=>Q.create({...r},!1)));function I(){l.value.includedWorkouts=d.value,l.value.insert(),c.go(-1)}function N(r){d.value.push(Q.create({exerciseId:r}))}function U(r){d.value.splice(d.value.indexOf(r),1)}function B(){l.value.delete(),F.create("Deleted workout."),c.go(-1)}return(r,e)=>(n(),v(x,null,[o("h1",null,_(m.value),1),o("form",H,[a(f,{modelValue:l.value.name,"onUpdate:modelValue":e[0]||(e[0]=t=>l.value.name=t),label:"name","stack-label":""},null,8,["modelValue"]),o("div",J,[o("section",K,[e[2]||(e[2]=o("h2",{class:"text-h6"},"Added workouts",-1)),a(y,{bordered:"",separator:"",style:{"max-width":"318px"}},{default:s(()=>[(n(!0),v(x,null,w(d.value,t=>(n(),V(C,{key:t.id},{default:s(()=>[o("section",O,[o("span",P,_(t.exercise().name),1),a(f,{class:"col",filled:"",modelValue:t.reps,"onUpdate:modelValue":p=>t.reps=p,label:"reps",dense:!0},null,8,["modelValue","onUpdate:modelValue"]),a(f,{class:"col",filled:"",modelValue:t.sets,"onUpdate:modelValue":p=>t.sets=p,label:"sets",dense:!0},null,8,["modelValue","onUpdate:modelValue"]),a(i,{onClick:()=>U(t),class:"col-auto",icon:"delete"},null,8,["onClick"])])]),_:2},1024))),128))]),_:1})]),o("section",X,[e[4]||(e[4]=o("h2",{class:"text-h6"},"Workouts",-1)),a(y,{bordered:"",separator:"",style:{"max-width":"318px"}},{default:s(()=>[(n(!0),v(x,null,w(b(A).all(),t=>R((n(),V(C,{onClick:()=>N(t.id),key:t.id,clickable:""},{default:s(()=>[a(L,{class:"text-black"},{default:s(()=>[u(_(t.name),1)]),_:2},1024),a(T,null,{default:s(()=>e[3]||(e[3]=[u(" Click to add ")])),_:1})]),_:2},1032,["onClick"])),[[h]])),128))]),_:1})])]),a(i,{onClick:I,color:"accent"},{default:s(()=>e[5]||(e[5]=[u("save")])),_:1}),a(i,{onClick:e[1]||(e[1]=t=>b(c).go(-1))},{default:s(()=>e[6]||(e[6]=[u("cancel")])),_:1}),m.value=="Edit workout plan"?(n(),V(i,{key:0,onClick:B},{default:s(()=>e[7]||(e[7]=[u("delete")])),_:1})):D("",!0)])],64))}}),se=G(Y,[["__scopeId","data-v-35e7d66c"]]);export{se as default};
